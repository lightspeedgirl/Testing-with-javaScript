{% load staticfiles %}

<html>
    <head>
        <title>My first Three.js app</title>
        <style>
            body { margin: 0; }
            canvas { width: 100%; height: 100% }
        </style>
    </head>
    <body>
        <div id = "container">
        </div>
        <script src="{% static 'jsPlay/js/three.min.js' %}"></script>
        <script src="{% static 'jsPlay/js/ColladaLoader.js' %}"></script>
        <script src="{% static 'jsPlay/js/TrackballControls.js' %}"></script>

        <script>
          

            var container, stats;

            var camera, controls, scene, renderer;

            var cross;

            init();
            animate();

            function init() {

                camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 1000 );
                camera.position.z = 50;

                controls = new THREE.TrackballControls( camera );

                controls.rotateSpeed = 1.0;
                controls.zoomSpeed = 1.2;
                controls.panSpeed = 0.8;

                controls.noZoom = false;
                controls.noPan = false;

                controls.staticMoving = true;
                controls.dynamicDampingFactor = 0.3;

                controls.keys = [ 65, 83, 68 ];

                controls.addEventListener( 'change', render );

                // world

                scene = new THREE.Scene();
                scene.fog = new THREE.FogExp2( 0xcccccc, 0.002 );

                var geometry = new THREE.PlaneGeometry( 5, 20, 32 );
                var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );
                var plane = new THREE.Mesh( geometry, material );
                plane.rotation.x = 1.57;
                scene.add( plane );

                var axisHelper = new THREE.AxisHelper( 5 );
                scene.add( axisHelper );

                var loader = new THREE.JSONLoader( true );
                loader.load( "\\static\\jsPlay\\js\\roomba.js", function( geometry ) {
                    var mesh = new THREE.Mesh( geometry, new THREE.MeshPhongMaterial( {name: "nirvash", morphTargets: false, side: THREE.   DoubleSide, color: 0x000000} ) );
                    scene.add( mesh );          

                      }
                );
                // lights

                light = new THREE.DirectionalLight( 0xffffff );
                light.position.set( 1, 1, 1 );
                scene.add( light );

                light = new THREE.DirectionalLight( 0x002288 );
                light.position.set( -1, -1, -1 );
                scene.add( light );

                light = new THREE.AmbientLight( 0x222222 );
                scene.add( light );


                // renderer

                renderer = new THREE.WebGLRenderer( { antialias: false } );
                renderer.setClearColor( scene.fog.color );
                renderer.setPixelRatio( window.devicePixelRatio );
                renderer.setSize( window.innerWidth, window.innerHeight );

                container = document.getElementById( 'container' );
                container.appendChild( renderer.domElement );



                //

                window.addEventListener( 'resize', onWindowResize, false );
                //

                render();

            }

            function onWindowResize() {

                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();

                renderer.setSize( window.innerWidth, window.innerHeight );

                controls.handleResize();

                render();

            }

            function animate() {

                requestAnimationFrame( animate );
                controls.update();

            }

            function render() {

                renderer.render( scene, camera );

            }

        </script>

    </body>
</html>